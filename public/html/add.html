<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Game Cast | Adicionar Evento</title>

    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Fontes Google -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;300;400;500;600;700&display=swap"
        rel="stylesheet">

    <script src="../../src/teste.js"></script>
    <script src="../../src/core/shedule/schedule.insert.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</head>

<body>
    <nav>
        <div class="container menu">
            <img src="../assets/logo.png" alt="Logo" class="logo" />
            <a href="schedule.html">_agenda</a>
        </div>
    </nav>
    <!-- <button onclick="Test()">
        Teste
    </button>
    <button onclick="TesteWeb()">TesteWeb</button>
    <div id="teste_div">
        <img id="teste_img" src="" width="100px" height="70px" alt="Imagem"/>
    </div> -->

    <!-- Criar formulÃ¡rio -->

    <div class="formulario">
        <form>
            <div class="row" data-bs-theme="light">
                <div class="mb-3">
                    <label for="name_game" class="form-label">Nome do jogo</label>
                    <input type="text" class="form-control" id="name_game" placeholder="Digite o nome do jogo...">
                </div>
                <div class="mb-3">
                    <label for="date_game" class="form-label">Data do jogo</label>
                    <input type="date" class="form-control" id="date_game">
                </div>
                <div class="mb-3">
                    <label for="description_game" class="form-label">DescriÃ§Ã£o do jogo</label>
                    <input type="text" class="form-control" id="description_game" placeholder="Digite a descriÃ§Ã£o do jogo...">
                </div>
                <div class="mb-3">
                    <label for="tags_game" class="form-label">Gamers que jogam o jogo</label>
                    <input type="text" class="form-control" id="tags_game" placeholder="Digite os gameres que jogam...">
                </div>
                <div class="mb-3">
                    <label for="image_game" class="form-label">Link da Imagem do jogo -> <span class="click" onclick="colarTexto(this)" id="paste_1">ðŸ“‘</span></label>
                    <input type="text" class="form-control" id="image_game" placeholder="Coloque o Link da imagem...">
                </div>
                <div class="mb-3">
                    <label for="link_game" class="form-label">Link da Live do jogo -> <span class="click" onclick="colarTexto(this)" id="paste_2">ðŸ“‘</span></label>
                    <input type="text" class="form-control" id="link_game" placeholder="Coloque o Link da live...">
                </div>
                <div class="left-direction">
                    <button onclick="insert()" type="button" class="btn btn-success">Adicionar</button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>
<script>
function colarTexto(element) {
    navigator.clipboard.readText()
    .then(texto => {
        if(element.id == "paste_1") document.getElementById('image_game').value = texto
        else document.getElementById('link_game').value = texto
    })
    .catch(err => {
      console.error('NÃ£o foi possÃ­vel colar o texto:', err);
    });
}

//     async function TesteWeb() {
//         const url = 'http://localhost:8080/musicas/foto/1'

//         try {
//             let headers = new Headers();
//             headers.append('Content-Type', 'image/jpeg');
//             headers.append('Accept', 'image/jpeg');
//             const resposta = await fetch(url, {
//                 mode: 'no-cors',
//                 method: "GET",
//                 headers: headers
//             })

//             // teste_div.innerHTML = resposta
//             //getAllResponseHeaders
//             console.log(resposta)
//             const imagemBlob = await resposta.blob();
//             const urlObjeto = URL.createObjectURL(new Blob([imagemBlob], { type: 'image/jpeg' }));
//             const img = document.getElementById('teste_div')
//             console.log(urlObjeto);
//             img.innerHTML += `<img src='${urlObjeto}' alt='aaaa'/>`
//             // img.innerHTML += `<img src="${urlObjeto}" width="100px" height="70px" alt="Imagem"/>`;

//             // teste_div.innerHTML = imagemBlob;

//             if (resposta.ok) {
//                 console.log('ok')
//                 // var respostaJson = await resposta.json();
//                 // console.log('JSON: ', respostaJson)
//             }
//         } catch (erro) {
//             console.log("Erro: ", erro);
//         }

//         /*
//          fetch(<"yoururl">, {
//     method: 'GET',
//     headers: {
//         'Content-Type': 'application/json',
//         'Authorization': 'Bearer ' + <your access token if need>
//     },
//        })
// .then((response) => response.blob())
// .then((blob) => {
// // 2. Create blob link to download
//  const url = window.URL.createObjectURL(new Blob([blob]));
// const link = document.createElement('a');
// link.href = url;
// link.setAttribute('download', `sample.xlsx`);
//  // 3. Append to html page
//  document.body.appendChild(link);
//  // 4. Force download
//  link.click();
//  // 5. Clean up and remove the link
//  link.parentNode.removeChild(link);
// })
        
        
        
//         */
//     }
    
</script>